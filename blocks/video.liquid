{%- liquid
  if block.settings.video != blank
    if block.settings.autoplay
      assign show_controls = false
    else
      assign show_controls = true
    endif

    render 'media' with block.settings.video, mobile_media: block.settings.mobile_video, autoplay: block.settings.autoplay, controls: show_controls, loop: block.settings.autoplay, playsinline: block.settings.autoplay, block: block
  endif
-%}

{% schema %}
{
  "name": "t:blocks.video.name",
  "tag": null,
  "settings": [
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "t:global.video.autoplay",
      "info": "t:global.video.autoplay_info",
      "default": true
    },
    {
      "type": "video",
      "id": "video",
      "label": "t:global.video.video"
    },
    {
      "type": "video",
      "id": "mobile_video",
      "label": "t:global.video.mobile_video"
    }
  ],
  "presets": [
    {
      "name": "t:blocks.video.name"
    }
  ]
}
{% endschema %}